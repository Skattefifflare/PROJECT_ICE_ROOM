[gd_scene load_steps=8 format=3 uid="uid://bghycjsbj73km"]

[ext_resource type="Texture2D" uid="uid://dicmjk3x6jnh7" path="res://Player/UpperArm.png" id="1_ugqtq"]
[ext_resource type="Texture2D" uid="uid://biq46jpd35ixh" path="res://Player/LowerArm.png" id="2_ibu8n"]
[ext_resource type="PackedScene" uid="uid://rnbeh2t00dvr" path="res://Weapons/spear.tscn" id="3_ry8ci"]

[sub_resource type="SkeletonModification2DCCDIK" id="SkeletonModification2DCCDIK_gmgn8"]
target_nodepath = NodePath("../../../Node2D/spear/left_marker")
tip_nodepath = NodePath("upper_left/lower_left/left_hand")
ccdik_data_chain_length = 2
joint_data/0/bone_index = 2
joint_data/0/bone2d_node = NodePath("upper_left")
joint_data/0/rotate_from_joint = false
joint_data/0/enable_constraint = false
joint_data/0/editor_draw_gizmo = true
joint_data/1/bone_index = 3
joint_data/1/bone2d_node = NodePath("upper_left/lower_left")
joint_data/1/rotate_from_joint = false
joint_data/1/enable_constraint = true
joint_data/1/constraint_angle_min = 80.0
joint_data/1/constraint_angle_max = -90.0
joint_data/1/constraint_angle_invert = true
joint_data/1/constraint_in_localspace = true
joint_data/1/editor_draw_gizmo = true

[sub_resource type="SkeletonModification2DCCDIK" id="SkeletonModification2DCCDIK_dh5lx"]
target_nodepath = NodePath("../../../Node2D/spear/right_marker")
tip_nodepath = NodePath("upper_right/lower_right/right_hand")
ccdik_data_chain_length = 2
joint_data/0/bone_index = 0
joint_data/0/bone2d_node = NodePath("upper_right")
joint_data/0/rotate_from_joint = false
joint_data/0/enable_constraint = false
joint_data/0/editor_draw_gizmo = true
joint_data/1/bone_index = 1
joint_data/1/bone2d_node = NodePath("upper_right/lower_right")
joint_data/1/rotate_from_joint = false
joint_data/1/enable_constraint = true
joint_data/1/constraint_angle_min = 80.0
joint_data/1/constraint_angle_max = -90.0
joint_data/1/constraint_angle_invert = true
joint_data/1/constraint_in_localspace = true
joint_data/1/editor_draw_gizmo = true

[sub_resource type="SkeletonModificationStack2D" id="SkeletonModificationStack2D_esg8l"]
enabled = true
modification_count = 2
modifications/0 = SubResource("SkeletonModification2DCCDIK_gmgn8")
modifications/1 = SubResource("SkeletonModification2DCCDIK_dh5lx")

[sub_resource type="ViewportTexture" id="ViewportTexture_3dnwg"]
viewport_path = NodePath("SubViewport")

[node name="Node2D" type="Node2D"]

[node name="SubViewport" type="SubViewport" parent="."]
size = Vector2i(25, 25)

[node name="Node2D" type="Node2D" parent="SubViewport"]

[node name="skeleton" type="Skeleton2D" parent="SubViewport/Node2D"]
modification_stack = SubResource("SkeletonModificationStack2D_esg8l")

[node name="upper_right" type="Bone2D" parent="SubViewport/Node2D/skeleton"]
unique_name_in_owner = true
position = Vector2(3, 0)
rotation = 0.0872657
rest = Transform2D(1, 0, 0, 1, 3, 0)
auto_calculate_length_and_angle = false
length = 7.0
bone_angle = 90.0
metadata/_local_pose_override_enabled_ = true

[node name="lower_right" type="Bone2D" parent="SubViewport/Node2D/skeleton/upper_right"]
position = Vector2(0, 5)
rotation = 1.39626
scale = Vector2(1, 1)
rest = Transform2D(-4.37114e-08, 1, -1, -4.37114e-08, 0, 5)
auto_calculate_length_and_angle = false
length = 5.0
bone_angle = 0.0
metadata/_local_pose_override_enabled_ = true

[node name="right_hand" type="Node2D" parent="SubViewport/Node2D/skeleton/upper_right/lower_right"]
unique_name_in_owner = true
position = Vector2(5, 7.15256e-07)

[node name="upper_left" type="Bone2D" parent="SubViewport/Node2D/skeleton"]
unique_name_in_owner = true
position = Vector2(-3, 0)
rotation = 0.186934
rest = Transform2D(1, 0, 0, 1, -3, 0)
auto_calculate_length_and_angle = false
length = 7.0
bone_angle = 0.0
metadata/_local_pose_override_enabled_ = true

[node name="lower_left" type="Bone2D" parent="SubViewport/Node2D/skeleton/upper_left"]
position = Vector2(0, 5)
rotation = 1.39626
scale = Vector2(1, 1)
rest = Transform2D(-4.37114e-08, 1, -1, -4.37114e-08, 0, 5)
auto_calculate_length_and_angle = false
length = 5.0
bone_angle = 0.0
metadata/_local_pose_override_enabled_ = true

[node name="left_hand" type="Node2D" parent="SubViewport/Node2D/skeleton/upper_left/lower_left"]
unique_name_in_owner = true
position = Vector2(5, 4.80825e-07)

[node name="up_left_tex" type="Polygon2D" parent="SubViewport/Node2D"]
position = Vector2(-3, 3)
texture = ExtResource("1_ugqtq")
skeleton = NodePath("../skeleton")
polygon = PackedVector2Array(-0.5, 3.5, -0.5, -3.5, 0.5, -3.5, 0.5, 3.5)
uv = PackedVector2Array(0, 7, 0, 0, 1, 0, 1, 7)
polygons = [PackedInt32Array(0, 1, 2, 3)]
bones = ["upper_right", PackedFloat32Array(0, 0, 0, 0), "upper_right/lower_right", PackedFloat32Array(0, 0, 0, 0), "upper_left", PackedFloat32Array(1, 1, 1, 1), "upper_left/lower_left", PackedFloat32Array(0, 0, 0, 0)]

[node name="low_left_tex" type="Polygon2D" parent="SubViewport/Node2D"]
position = Vector2(-3, 8)
texture = ExtResource("2_ibu8n")
skeleton = NodePath("../skeleton")
polygon = PackedVector2Array(-0.5, 2.5, -0.5, -2.5, 0.5, -2.5, 0.5, 2.5)
uv = PackedVector2Array(0, 5, 0, 0, 1, 0, 1, 5)
polygons = [PackedInt32Array(0, 1, 2, 3)]
bones = ["upper_right", PackedFloat32Array(0, 0, 0, 0), "upper_right/lower_right", PackedFloat32Array(0, 0, 0, 0), "upper_left", PackedFloat32Array(0, 0, 0, 0), "upper_left/lower_left", PackedFloat32Array(1, 1, 1, 1)]

[node name="up_right_tex" type="Polygon2D" parent="SubViewport/Node2D"]
position = Vector2(3, 3)
texture = ExtResource("1_ugqtq")
skeleton = NodePath("../skeleton")
polygon = PackedVector2Array(-0.5, 3.5, -0.5, -3.5, 0.5, -3.5, 0.5, 3.5)
uv = PackedVector2Array(0, 7, 0, 0, 1, 0, 1, 7)
polygons = [PackedInt32Array(0, 1, 2, 3)]
bones = ["upper_right", PackedFloat32Array(1, 1, 1, 1), "upper_right/lower_right", PackedFloat32Array(0, 0, 0, 0), "upper_left", PackedFloat32Array(0, 0, 0, 0), "upper_left/lower_left", PackedFloat32Array(0, 0, 0, 0)]

[node name="low_right_tex" type="Polygon2D" parent="SubViewport/Node2D"]
position = Vector2(3, 8)
texture = ExtResource("2_ibu8n")
skeleton = NodePath("../skeleton")
polygon = PackedVector2Array(-0.5, 2.5, -0.5, -2.5, 0.5, -2.5, 0.5, 2.5)
uv = PackedVector2Array(0, 5, 0, 0, 1, 0, 1, 5)
polygons = [PackedInt32Array(0, 1, 2, 3)]
bones = ["upper_right", PackedFloat32Array(0, 0, 0, 0), "upper_right/lower_right", PackedFloat32Array(1, 1, 1, 1), "upper_left", PackedFloat32Array(0, 0, 0, 0), "upper_left/lower_left", PackedFloat32Array(0, 0, 0, 0)]

[node name="Camera2D" type="Camera2D" parent="SubViewport"]

[node name="Sprite2D" type="Sprite2D" parent="."]
texture = SubResource("ViewportTexture_3dnwg")
region_rect = Rect2(0, 0, 100, 100)

[node name="Camera2D" type="Camera2D" parent="."]
zoom = Vector2(2, 2)

[node name="Node2D" type="Node2D" parent="."]

[node name="spear" parent="Node2D" instance=ExtResource("3_ry8ci")]

[node name="left_marker" type="Marker2D" parent="Node2D/spear"]
position = Vector2(4.70599e-05, 9.28571)

[node name="right_marker" type="Marker2D" parent="Node2D/spear"]
position = Vector2(2.17199e-05, 4.28571)
