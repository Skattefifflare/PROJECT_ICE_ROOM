[gd_scene load_steps=11 format=3 uid="uid://drqjfhw7srgij"]

[ext_resource type="Texture2D" uid="uid://cpv18jusu663a" path="res://character_movement/assets/UpperArm.png" id="1_gge88"]
[ext_resource type="Texture2D" uid="uid://7p3ftuvdhkuf" path="res://character_movement/assets/LowerArm.png" id="2_h5ctw"]
[ext_resource type="Texture2D" uid="uid://cnmqg0h0fm3ve" path="res://spear.png" id="3_k7k4o"]
[ext_resource type="Script" path="res://TestWeapon.cs" id="4_uhhka"]

[sub_resource type="SkeletonModification2DCCDIK" id="SkeletonModification2DCCDIK_kmp30"]
target_nodepath = NodePath("../weapon_rot/spear/left_marker")
tip_nodepath = NodePath("upper_left/lower_left/left_hand")
ccdik_data_chain_length = 2
joint_data/0/bone_index = 0
joint_data/0/bone2d_node = NodePath("upper_left")
joint_data/0/rotate_from_joint = false
joint_data/0/enable_constraint = false
joint_data/0/editor_draw_gizmo = true
joint_data/1/bone_index = 1
joint_data/1/bone2d_node = NodePath("upper_left/lower_left")
joint_data/1/rotate_from_joint = false
joint_data/1/enable_constraint = true
joint_data/1/constraint_angle_min = -90.0
joint_data/1/constraint_angle_max = 80.0
joint_data/1/constraint_angle_invert = true
joint_data/1/constraint_in_localspace = true
joint_data/1/editor_draw_gizmo = true

[sub_resource type="SkeletonModification2DCCDIK" id="SkeletonModification2DCCDIK_2jl20"]
target_nodepath = NodePath("../weapon_rot/spear/right_marker")
tip_nodepath = NodePath("upper_right/lower_right/right_hand")
ccdik_data_chain_length = 2
joint_data/0/bone_index = 2
joint_data/0/bone2d_node = NodePath("upper_right")
joint_data/0/rotate_from_joint = false
joint_data/0/enable_constraint = false
joint_data/0/editor_draw_gizmo = true
joint_data/1/bone_index = 3
joint_data/1/bone2d_node = NodePath("upper_right/lower_right")
joint_data/1/rotate_from_joint = false
joint_data/1/enable_constraint = true
joint_data/1/constraint_angle_min = -90.0
joint_data/1/constraint_angle_max = 80.0
joint_data/1/constraint_angle_invert = true
joint_data/1/constraint_in_localspace = true
joint_data/1/editor_draw_gizmo = true

[sub_resource type="SkeletonModificationStack2D" id="SkeletonModificationStack2D_o6v72"]
enabled = true
modification_count = 2
modifications/0 = SubResource("SkeletonModification2DCCDIK_kmp30")
modifications/1 = SubResource("SkeletonModification2DCCDIK_2jl20")

[sub_resource type="Animation" id="Animation_g26oj"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("spear:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(6, 11)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("spear:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [1.5708]
}

[sub_resource type="Animation" id="Animation_tbh5o"]
resource_name = "attack"
length = 0.4
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("spear:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.166667, 0.366667),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [Vector2(6, 11), Vector2(-2, 9), Vector2(6, 10), Vector2(16, 3)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("spear:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.166667, 0.366667),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [1.5708, 1.98095, 1.5708, 1.43292]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_i15c0"]
_data = {
"RESET": SubResource("Animation_g26oj"),
"attack": SubResource("Animation_tbh5o")
}

[node name="arm_root" type="Node2D"]

[node name="skeleton" type="Skeleton2D" parent="."]
visible = false
modification_stack = SubResource("SkeletonModificationStack2D_o6v72")

[node name="upper_left" type="Bone2D" parent="skeleton"]
unique_name_in_owner = true
position = Vector2(-3, 0)
rest = Transform2D(1, 0, 0, 1, -3, 0)
metadata/_local_pose_override_enabled_ = true

[node name="lower_left" type="Bone2D" parent="skeleton/upper_left"]
position = Vector2(0, 7)
rotation = 1.5708
rest = Transform2D(-4.37114e-08, 1, -1, -4.37114e-08, 0, 7)
auto_calculate_length_and_angle = false
length = 4.0
bone_angle = 0.0
metadata/_local_pose_override_enabled_ = true

[node name="left_hand" type="Node2D" parent="skeleton/upper_left/lower_left"]
unique_name_in_owner = true
position = Vector2(4, -1.74846e-07)

[node name="upper_right" type="Bone2D" parent="skeleton"]
unique_name_in_owner = true
position = Vector2(3, 0)
rest = Transform2D(1, 0, 0, 1, 3, 0)
metadata/_local_pose_override_enabled_ = true

[node name="lower_right" type="Bone2D" parent="skeleton/upper_right"]
position = Vector2(0, 7)
rotation = 1.5708
rest = Transform2D(-4.37114e-08, 1, -1, -4.37114e-08, 0, 7)
auto_calculate_length_and_angle = false
length = 4.0
bone_angle = 0.0
metadata/_local_pose_override_enabled_ = true

[node name="right_hand" type="Node2D" parent="skeleton/upper_right/lower_right"]
unique_name_in_owner = true
position = Vector2(4, -1.74846e-07)

[node name="textures" type="Node" parent="."]

[node name="upper_left_tex" type="Polygon2D" parent="textures"]
position = Vector2(-3, 3)
texture = ExtResource("1_gge88")
skeleton = NodePath("../../skeleton")
polygon = PackedVector2Array(-0.5, 3.5, -0.5, -3.5, 0.5, -3.5, 0.5, 3.5)
uv = PackedVector2Array(0, 7, 0, 0, 1, 0, 1, 7)
polygons = [PackedInt32Array(0, 1, 2, 3)]
bones = ["upper_left", PackedFloat32Array(1, 1, 1, 1), "upper_left/lower_left", PackedFloat32Array(0, 0, 0, 0), "upper_right", PackedFloat32Array(0, 0, 0, 0), "upper_right/lower_right", PackedFloat32Array(0, 0, 0, 0)]

[node name="lower_left_tex" type="Polygon2D" parent="textures"]
position = Vector2(-3, 9)
texture = ExtResource("2_h5ctw")
skeleton = NodePath("../../skeleton")
polygon = PackedVector2Array(-0.5, 2.5, -0.5, -2.5, 0.5, -2.5, 0.5, 2.5)
uv = PackedVector2Array(0, 5, 0, 0, 1, 0, 1, 5)
polygons = [PackedInt32Array(0, 1, 2, 3)]
bones = ["upper_left", PackedFloat32Array(0, 0, 0, 0), "upper_left/lower_left", PackedFloat32Array(1, 1, 1, 1), "upper_right", PackedFloat32Array(0, 0, 0, 0), "upper_right/lower_right", PackedFloat32Array(0, 0, 0, 0)]

[node name="upper_right_tex" type="Polygon2D" parent="textures"]
position = Vector2(3, 3)
texture = ExtResource("1_gge88")
skeleton = NodePath("../../skeleton")
polygon = PackedVector2Array(-0.5, 3.5, -0.5, -3.5, 0.5, -3.5, 0.5, 3.5)
uv = PackedVector2Array(0, 7, 0, 0, 1, 0, 1, 7)
polygons = [PackedInt32Array(0, 1, 2, 3)]
bones = ["upper_left", PackedFloat32Array(0, 0, 0, 0), "upper_left/lower_left", PackedFloat32Array(0, 0, 0, 0), "upper_right", PackedFloat32Array(1, 1, 1, 1), "upper_right/lower_right", PackedFloat32Array(0, 0, 0, 0)]

[node name="lower_right_tex" type="Polygon2D" parent="textures"]
position = Vector2(3, 9)
texture = ExtResource("2_h5ctw")
skeleton = NodePath("../../skeleton")
polygon = PackedVector2Array(-0.5, 2.5, -0.5, -2.5, 0.5, -2.5, 0.5, 2.5)
uv = PackedVector2Array(0, 5, 0, 0, 1, 0, 1, 5)
polygons = [PackedInt32Array(0, 1, 2, 3)]
bones = ["upper_left", PackedFloat32Array(0, 0, 0, 0), "upper_left/lower_left", PackedFloat32Array(0, 0, 0, 0), "upper_right", PackedFloat32Array(0, 0, 0, 0), "upper_right/lower_right", PackedFloat32Array(1, 1, 1, 1)]

[node name="weapon_rot" type="Node2D" parent="."]

[node name="spear" type="Sprite2D" parent="weapon_rot"]
position = Vector2(6, 11)
rotation = 1.5708
texture = ExtResource("3_k7k4o")
script = ExtResource("4_uhhka")

[node name="left_marker" type="Marker2D" parent="weapon_rot/spear"]
position = Vector2(-9.97386e-07, 8)
gizmo_extents = 5.0

[node name="right_marker" type="Marker2D" parent="weapon_rot/spear"]
position = Vector2(0, 3)
gizmo_extents = 5.0

[node name="animation" type="AnimationPlayer" parent="weapon_rot"]
libraries = {
"": SubResource("AnimationLibrary_i15c0")
}
speed_scale = 1.25
